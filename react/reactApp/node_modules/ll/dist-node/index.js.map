{"version":3,"file":"index.js","sources":["../dist-src/$.js","../dist-src/$$.js","../dist-src/on.js","../dist-src/htmlEncode.js","../dist-src/sprintf.js"],"sourcesContent":["export function $(selectors, parent = document) {\r\n    return parent.querySelector(selectors);\r\n}\r\n","export function $$(selectors, parent = document) {\r\n    return Array\r\n        .from(parent.querySelectorAll(selectors))\r\n        .filter(element => element !== null);\r\n}\r\n","function ensureArray(maybe) {\r\n    return Array.isArray(maybe) ? maybe : [maybe];\r\n}\r\nexport function on(elements, events, targetFilter) {\r\n    const elementsArray = ensureArray(elements)\r\n        .filter((element) => element !== null && typeof element !== 'undefined')\r\n        // Ensure events can be attached to the elements\r\n        .filter(element => 'addEventListener' in element);\r\n    const eventsArray = ensureArray(events);\r\n    return (listeners, options) => {\r\n        let listenersArray = ensureArray(listeners);\r\n        if (typeof targetFilter !== 'undefined') {\r\n            listenersArray = listenersArray.map((f) => function (event) {\r\n                const target = event.target;\r\n                if (target instanceof Element) {\r\n                    const filteredTarget = target.closest(targetFilter);\r\n                    if (filteredTarget)\r\n                        f.call(filteredTarget, event);\r\n                }\r\n            });\r\n        }\r\n        for (let element of elementsArray) {\r\n            for (let event of eventsArray) {\r\n                for (let listener of listenersArray) {\r\n                    element.addEventListener.call(element, event, listener, options);\r\n                }\r\n            }\r\n        }\r\n    };\r\n}\r\n","export function htmlEncode(value) {\r\n    const div = document.createElement('div');\r\n    const text = document.createTextNode(value);\r\n    div.appendChild(text);\r\n    return div.innerHTML;\r\n}\r\n","/**\r\n * Simple string injection using tagged template literals.\r\n *\r\n * Indices can be in any order, repeated, or omitted.\r\n *\r\n * Undefined indices output a blank string.\r\n *\r\n * @param strings Array of template strings\r\n * @param indices The indices used in the template\r\n *\r\n * @example let template = sprintf`How many ${1} do I have? I have ${0}.`;\r\n * template( '10', 'dinosaurs' ); // How many dinosaurs do I have? I have 10.\r\n * template( 'zero', 'cars' ); // How many cars do I have? I have zero.\r\n */\r\nexport function sprintf(strings, ...indices) {\r\n    return (...values) => strings.reduce((total, part, index) => total + part + (values[indices[index]] || ''), '');\r\n}\r\n"],"names":["$","selectors","parent","document","querySelector","$$","Array","from","querySelectorAll","filter","element","ensureArray","maybe","isArray","on","elements","events","targetFilter","elementsArray","eventsArray","listeners","options","listenersArray","map","f","event","target","Element","filteredTarget","closest","call","listener","addEventListener","htmlEncode","value","div","createElement","text","createTextNode","appendChild","innerHTML","sprintf","strings","indices","values","reduce","total","part","index"],"mappings":";;;;AAAO,SAASA,CAAT,CAAWC,SAAX,EAAsBC,MAAM,GAAGC,QAA/B,EAAyC;AAC5C,SAAOD,MAAM,CAACE,aAAP,CAAqBH,SAArB,CAAP;AACH;;ACFM,SAASI,EAAT,CAAYJ,SAAZ,EAAuBC,MAAM,GAAGC,QAAhC,EAA0C;AAC7C,SAAOG,KAAK,CACPC,IADE,CACGL,MAAM,CAACM,gBAAP,CAAwBP,SAAxB,CADH,EAEFQ,MAFE,CAEKC,OAAO,IAAIA,OAAO,KAAK,IAF5B,CAAP;AAGH;;ACJD,SAASC,WAAT,CAAqBC,KAArB,EAA4B;AACxB,SAAON,KAAK,CAACO,OAAN,CAAcD,KAAd,IAAuBA,KAAvB,GAA+B,CAACA,KAAD,CAAtC;AACH;;AACD,AAAO,SAASE,EAAT,CAAYC,QAAZ,EAAsBC,MAAtB,EAA8BC,YAA9B,EAA4C;AAC/C,QAAMC,aAAa,GAAGP,WAAW,CAACI,QAAD,CAAX,CACjBN,MADiB,CACTC,OAAD,IAAaA,OAAO,KAAK,IAAZ,IAAoB,OAAOA,OAAP,KAAmB,WAD1C;AAAA,GAGjBD,MAHiB,CAGVC,OAAO,IAAI,sBAAsBA,OAHvB,CAAtB;AAIA,QAAMS,WAAW,GAAGR,WAAW,CAACK,MAAD,CAA/B;AACA,SAAO,CAACI,SAAD,EAAYC,OAAZ,KAAwB;AAC3B,QAAIC,cAAc,GAAGX,WAAW,CAACS,SAAD,CAAhC;;AACA,QAAI,OAAOH,YAAP,KAAwB,WAA5B,EAAyC;AACrCK,MAAAA,cAAc,GAAGA,cAAc,CAACC,GAAf,CAAoBC,CAAD,IAAO,UAAUC,KAAV,EAAiB;AACxD,cAAMC,MAAM,GAAGD,KAAK,CAACC,MAArB;;AACA,YAAIA,MAAM,YAAYC,OAAtB,EAA+B;AAC3B,gBAAMC,cAAc,GAAGF,MAAM,CAACG,OAAP,CAAeZ,YAAf,CAAvB;AACA,cAAIW,cAAJ,EACIJ,CAAC,CAACM,IAAF,CAAOF,cAAP,EAAuBH,KAAvB;AACP;AACJ,OAPgB,CAAjB;AAQH;;AACD,SAAK,IAAIf,OAAT,IAAoBQ,aAApB,EAAmC;AAC/B,WAAK,IAAIO,KAAT,IAAkBN,WAAlB,EAA+B;AAC3B,aAAK,IAAIY,QAAT,IAAqBT,cAArB,EAAqC;AACjCZ,UAAAA,OAAO,CAACsB,gBAAR,CAAyBF,IAAzB,CAA8BpB,OAA9B,EAAuCe,KAAvC,EAA8CM,QAA9C,EAAwDV,OAAxD;AACH;AACJ;AACJ;AACJ,GAnBD;AAoBH;;AC7BM,SAASY,UAAT,CAAoBC,KAApB,EAA2B;AAC9B,QAAMC,GAAG,GAAGhC,QAAQ,CAACiC,aAAT,CAAuB,KAAvB,CAAZ;AACA,QAAMC,IAAI,GAAGlC,QAAQ,CAACmC,cAAT,CAAwBJ,KAAxB,CAAb;AACAC,EAAAA,GAAG,CAACI,WAAJ,CAAgBF,IAAhB;AACA,SAAOF,GAAG,CAACK,SAAX;AACH;;ACLD;;;;;;;;;;;;;;AAcA,AAAO,SAASC,OAAT,CAAiBC,OAAjB,EAA0B,GAAGC,OAA7B,EAAsC;AACzC,SAAO,CAAC,GAAGC,MAAJ,KAAeF,OAAO,CAACG,MAAR,CAAe,CAACC,KAAD,EAAQC,IAAR,EAAcC,KAAd,KAAwBF,KAAK,GAAGC,IAAR,IAAgBH,MAAM,CAACD,OAAO,CAACK,KAAD,CAAR,CAAN,IAA0B,EAA1C,CAAvC,EAAsF,EAAtF,CAAtB;AACH;;;;;;;;"}